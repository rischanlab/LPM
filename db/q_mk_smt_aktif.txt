SELECT A.KD_KRS, DECODE(A.STATUS_ULANG,'B','BARU','U','ULANG') STATUS_ULANG, A.NILAI,A.BOBOT_NILAI,E.TA,B.KD_PRODI,B.KD_MK,B.KD_TA FROM D_DETAIL_KRS A, V_KELAS B, D_URUT_KELAS C , D_KRS D, D_TA E, D_SEMESTER F WHERE A.KD_KELAS = B.KD_KELAS AND A.KD_KRS = C.KD_KRS (+) AND A.KD_KELAS = C.KD_KELAS (+) AND D.NIM = '09650007' AND D.KD_KRS = A.KD_KRS AND D.SEMESTER = (select max(SEMESTER) from D_KRS where nim = '09650007') AND F.KD_SMT = D.KD_SMT AND E.KD_TA = (select max(KD_TA) from D_KRS where nim ='09650007')


SELECT A.KD_KRS, DECODE(A.STATUS_ULANG,'B','BARU','U','ULANG') STATUS_ULANG, A.NILAI,A.BOBOT_NILAI,E.TA,B.KD_PRODI,B.KD_MK,B.KD_TA FROM D_DETAIL_KRS A, V_KELAS B, D_URUT_KELAS C , D_KRS D, D_TA E, D_SEMESTER F WHERE A.KD_KELAS = B.KD_KELAS AND A.KD_KRS = C.KD_KRS (+) AND A.KD_KELAS = C.KD_KELAS (+) AND D.NIM = '$nim' AND D.KD_KRS = A.KD_KRS AND D.SEMESTER = (select max(SEMESTER) from D_KRS where nim = '$nim') AND F.KD_SMT = D.KD_SMT AND E.KD_TA = (select max(KD_TA) from D_KRS where nim ='$nim') AND B.KD_MK='$kd_mk';